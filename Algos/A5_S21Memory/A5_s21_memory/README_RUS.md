# s21_memory

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø–∞–º—è—Ç—å—é.


## Contents

1. [Chapter I](#chapter-i) \
    1.1. [Introduction](#introduction)
2. [Chapter II](#chapter-ii) \
    2.1. [Information](#information)
3. [Chapter III](#chapter-iii) \
    3.1. [Part 1](#part-1-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏-s21_memory) \
    3.2. [Part 2](#part-2-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ-–ø–æ–∏—Å–∫-–ø–æ-—Å–≤–æ–±–æ–¥–Ω—ã–º-—è—á–µ–π–∫–∞–º) \
    3.3. [Part 3](#part-3-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ-–¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è)  


## Chapter I

![s21_memory](misc/images/s21_memory.JPG)

–î–æ –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞ –ø–æ–∑–∏—Ü–∏—é –º–∏–¥–¥–ª —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–æ–µ–∫—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø–∞–º—è—Ç—å—é –≤ —Ç–∞–∫ –≥–æ—Ä—è—á–æ –ª—é–±–∏–º–æ–º –ï–≤–æ–π —è–∑—ã–∫–µ –°–∏. –ö–æ–≥–¥–∞ –ë–æ–± –æ–∑–≤—É—á–∏–ª –∑–∞–¥–∞—á—É, –æ–Ω–∞ –Ω–µ –ø–æ–≤–µ—Ä–∏–ª–∞ —Å–≤–æ–µ–π —É–¥–∞—á–µ. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è malloc'–∞ –∏ free –µ–π –±—ã–ª–∞ –∑–Ω–∞–∫–æ–º–∞ –µ—â–µ —Å–æ –≤—Ä–µ–º–µ–Ω –ø—Ä–æ—á—Ç–µ–Ω–∏—è –∫–Ω–∏–≥–∏ –ö–µ—Ä–Ω–∏–≥–∞–Ω–∞ –∏ –†–∏—Ç—á–∏. –ü–æ—ç—Ç–æ–º—É –Ω–µ—É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ, —á—Ç–æ –ï–≤–∞ —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ø–µ—à–∏–ª–∞ –∫ —Å–µ–±–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ, —Ö–æ—Ç—è –≤—Ä–µ–º–µ–Ω–∏ –±—ã–ª–æ –¥–∞–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–ü—Ä–æ—Ö–æ–¥—è –ø–æ –∫–æ—Ä–∏–¥–æ—Ä–∞–º –≥–æ–ª–æ–≤–Ω–æ–≥–æ –æ—Ñ–∏—Å–∞ SIS, –ï–≤–∞ –Ω–µ–≤–æ–ª—å–Ω–æ –æ—Ç–º–µ—Ç–∏–ª–∞ –ø—Ä–æ —Å–µ–±—è, —á—Ç–æ —Ä–∞–±–æ—Ç–∞ –∫–∏–ø–∏—Ç –≤–æ –≤—Å–µ—Ö –æ—Ç–¥–µ–ª–∞—Ö, –∫–æ–º–ø–∞–Ω–∏—è –∂–∏–≤–µ—Ç. –¢–∞–∫, PR –æ—Ç–¥–µ–ª –≤ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–µ –≥—Ä–æ–º–∫–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–µ–∫–ª–∞–º—ã –¥–ª—è —Ä–æ–±–æ—Ç–∞ –º–æ–π—â–∏–∫–∞ –æ–∫–æ–Ω. –û—á–µ—Ä–µ–¥–Ω–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ SIS, –∑–∞ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –≤—Å–µ: –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã—Ö –Ω–µ–±–æ—Å–∫—Ä–µ–±–æ–≤ –¥–æ –¥–æ–º–æ—Ö–æ–∑—è–µ–∫, –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä—É—é—â–∏—Ö –ª–∏–Ω–µ–π–∫—É —É–º–Ω—ã—Ö –ø–æ–º–æ—â–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤ –ª—É—á—à–µ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä—É —Ä–∞–∑ –≤ –≥–æ–¥. –û—Ç–¥–µ–ª "—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–≤–æ–±–æ–¥—ã", –∫–∞–∫ –µ–≥–æ —à—É—Ç–ª–∏–≤–æ –Ω–∞–∑—ã–≤–∞—é—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–ª –Ω–∞–¥ –Ω–æ–≤–µ–π—à–∏–º–∏ —à–∞—Ä–Ω–∏—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª–∏–ª–∏ –±—ã –ø–æ–≤—ã—Å–∏—Ç—å –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã. –û—Ç–¥–µ–ª —Ñ–∏–Ω–∞–Ω—Å–æ–≤... —Å–ª–µ–¥–∏–ª –∏ –ø—Ä–µ—É–º–Ω–æ–∂–∞–ª —Ñ–∏–Ω–∞–Ω—Å—ã –∫–æ–º–ø–∞–Ω–∏–∏. –ë–µ–∑–æ–ø–∞—Å–Ω–∏–∫–∏ –±–µ–≥–∞–ª–∏ —Ç—É–¥–∞-—Å—é–¥–∞ –ø–æ –∫–æ—Ä–∏–¥–æ—Ä–∞–º –∏ —ç—Ç–∞–∂–∞–º –æ—Ñ–∏—Å–∞. –í –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã –¥–ª—è –Ω–∏—Ö —Ä–µ–∑–∫–æ —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å.

–ù–µ–¥–∞–ª–µ–∫–æ –æ—Ç —Ä–µ—Å–µ–ø—à–µ–Ω–∞ –≤–∏—Å–µ–ª–∞ –º–∏—Ä–∏–∞–¥–∞ –¥–∏–ø–ª–æ–º–æ–≤ –∏ –Ω–∞–≥—Ä–∞–¥, –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏: "–õ—É—á—à–∏–π —Ä–æ–±–æ—Ç-–ø—ã–ª–µ—Å–æ—Å –≥–æ–¥–∞", –∏–ª–∏ "–°–∞–º–∞—è —É–º–Ω–∞—è —Å—É—à–∏–ª–∫–∞ –¥–ª—è –æ–¥–µ–∂–¥—ã", –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –≥–æ–¥–∞". SIS, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≤–æ–µ–≤–∞–ª–∞ —Å–≤–æ—é –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø–∞—Ä—É –¥–µ—Å—è—Ç–∫–æ–≤ –ª–µ—Ç –Ω–∞–∑–∞–¥ —á–∞—Å—Ç–∏—á–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∏ –¥–µ—à–µ–≤—ã–º –±—ã—Ç–æ–≤—ã–º –ø—Ä–∏–±–æ—Ä–∞–º, —Å–µ–≥–æ–¥–Ω—è —Å–æ–∑–¥–∞–≤–∞–ª–∞ –≤—Å–µ, —á—Ç–æ —Ç–æ–ª—å–∫–æ –º–æ–∂–Ω–æ, —Å –ø—Ä–∏–ø–∏—Å–∫–æ–π "—É–º–Ω–æ–µ", –∫–æ—Ç–æ—Ä–æ–µ –±–µ–∑–æ–≥–æ–≤–æ—Ä–æ—á–Ω–æ —Å–∫—É–ø–∞–ª–∞ –µ–µ –≤–µ—Ä–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è. –î–ª—è —Ç–∞–∫–∏—Ö –º–æ–ª–æ–¥—ã—Ö —É–º–æ–≤, –∫–∞–∫ –ï–≤–∞, SIS, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å—Ç–∞—Ç—å –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º –∏ –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å—Ü–µ–Ω–Ω—ã–π –æ–ø—ã—Ç, –¥–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è —Å–∏–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å–æ –≤—Ä–µ–º–µ–Ω —Å–≤–æ–µ–≥–æ —Ä–∞—Å—Ü–≤–µ—Ç–∞. 

–ù–µ–º–Ω–æ–≥–æ –ø–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏—Ä–æ–≤–∞–≤ –æ—Ç–∫–∏–Ω—É–≤—à–∏—Å—å –Ω–∞ —Å–ø–∏–Ω–∫—É —Å–≤–æ–µ–≥–æ –∫—Ä–µ—Å–ª–∞, –ï–≤–∞ –≤–µ—Ä–Ω—É–ª–∞—Å—å –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∏–ª–∞ –∫ –∑–∞–¥–∞—á–∫–µ.

## Introduction

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π *malloc*, *calloc*, *realloc* –∏ *free*. 


## Chapter II

## Information

### –ë–ª–æ–∫–∏ –ø–∞–º—è—Ç–∏

–û–±—ã—á–Ω–æ –≤ —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –º—ã –∏–º–µ–µ–º –¥–µ–ª–æ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–ª—è, –º–µ—Ç–æ–¥—ã –∏ —Ç.–¥.

–û–¥–Ω–∞–∫–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—è –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ, –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ –±–ª–æ–∫ –ø–∞–º—è—Ç–∏.
–ò–∑–≤–µ—Å—Ç–Ω–æ —Ç–æ–ª—å–∫–æ, —á—Ç–æ —ç—Ç–æ—Ç –±–ª–æ–∫ –∏–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä, –∞ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –±—É–¥—É—á–∏ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç–æ–≤.
–í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ—Ç –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω –∫ –Ω—É–∂–Ω–æ–º—É —Ç–∏–ø—É, –∏ –µ–≥–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —ç—Ç–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è.

–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤—Å–µ–≥–¥–∞ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–∞.
–í –∑–∞–≥–æ–ª–æ–≤–∫–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –æ—Ç–Ω–æ—Å—è—â–∞—è—Å—è –∫ –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É, –∏ –∫–æ—Ç–æ—Ä–∞—è —Å–ª—É–∂–∏—Ç —Ü–µ–ª—è–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—è –∏ —Å–±–æ—Ä—â–∏–∫–∞.

–ë–ª–æ–∫ –ø–∞–º—è—Ç–∏ –¥–æ–ª–∂–µ–Ω –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–±—ä–µ–∫—Ç–∞ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
–≠—Ç–æ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ –∑–∞–ø—Ä–æ—Å—É –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ.

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ –∏ —Ö—Ä–∞–Ω–∏—Ç —Ñ–ª–∞–≥, –≤—ã–¥–µ–ª–µ–Ω –ª–∏ —ç—Ç–æ—Ç –±–ª–æ–∫ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.
–ü—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –æ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `true`, –∞ –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `false`, –ø–æ—ç—Ç–æ–º—É –±–ª–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –±—É–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –µ—Å—Ç—å –ø–æ–ª—è, —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –±–ª–æ–∫–∏.

–í–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ –±–ª–æ–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç –≤ –ø–∞–º—è—Ç–∏ (–≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –±–ª–æ–∫):

![Memory_Blocks](misc/images/Memory_Blocks.png)

–û–±—ä–µ–∫—Ç—ã A –∏ C –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –∞ –±–ª–æ–∫ B –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

–ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—â–∏–µ –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü (–≤–µ—Ä—Ö) –∫—É—á–∏.

### –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

–ö–∞–∫ —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å, –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –º—ã –Ω–µ –±–µ—Ä–µ–º –Ω–∞ —Å–µ–±—è –Ω–∏–∫–∞–∫–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∞ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ä–∞–∑–º–µ—Ä–æ–º –±–ª–æ–∫–∞.

–î–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—Ä–æ–≤–Ω–µ–Ω, –∏ –æ–±—ã—á–Ω–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –º–∞—à–∏–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞.

–í–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –±–ª–æ–∫ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –æ–±—ä–µ–∫—Ç–∞:

![Alignment-Header](misc/images/Alignment-Header.png)

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ, —Å–∫–∞–∂–µ–º, 6 –±–∞–π—Ç, –º—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ–º 8 –±–∞–π—Ç. –í—ã–¥–µ–ª–µ–Ω–∏–µ 4 –±–∞–π—Ç –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –ª–∏–±–æ –∫ 4 –±–∞–π—Ç–∞–º ‚Äî –Ω–∞ 32-—Ä–∞–∑—Ä—è–¥–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –ª–∏–±–æ –∫ 8 –±–∞–π—Ç–∞–º ‚Äî –Ω–∞ –º–∞—à–∏–Ω–µ —Å 64-—Ä–∞–∑—Ä—è–¥–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤

–ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –±–ª–æ–∫ –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ.

–ú—ã –≤–Ω–µ–¥—Ä–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –±–æ–ª—å—à–µ–≥–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞, –≤–∑—è–≤ –∏–∑ –Ω–µ–≥–æ —Ç–æ–ª—å–∫–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –î—Ä—É–≥–∞—è —á–∞—Å—Ç—å –æ—Å—Ç–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ–π –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä:

![Block-split](misc/images/Block-split.png)

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤

–ï—Å–ª–∏ —É –Ω–∞—Å –≤ –∫—É—á–µ –µ—Å—Ç—å –¥–≤–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö –±–ª–æ–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–º 8, –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –±–ª–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–º 16, –º—ã –Ω–µ –º–æ–∂–µ–º —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ. –î–∞–≤–∞–π—Ç–µ –≤–∑–≥–ª—è–Ω–µ–º –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–≥–æ.

–ü—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –º—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è, –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ (–∏–ª–∏ –±–æ–ª–µ–µ) —Å–æ—Å–µ–¥–Ω–∏—Ö –±–ª–æ–∫–∞ –≤ –æ–¥–∏–Ω –±–æ–ª—å—à–∏–π.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä:

![Blocks-coalescing](misc/images/Blocks-coalescing.png)

### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| ------ | ----------------------------------------------------- | ------ |
| 1 | `void *malloc (size_t size)` | –§—É–Ω–∫—Ü–∏—è `malloc` –≤—ã–¥–µ–ª—è–µ—Ç –±–ª–æ–∫ –ø–∞–º—è—Ç–∏, —Ä–∞–∑–º–µ—Ä–æ–º `size` –±–∞–π—Ç, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–∞—á–∞–ª–æ –±–ª–æ–∫–∞. –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –ø–∞–º—è—Ç–∏ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è, –æ–Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è —Å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å null. |
| 2 | `void *calloc (size_t num, size_t size)` | –§—É–Ω–∫—Ü–∏—è `calloc` –≤—ã–¥–µ–ª—è–µ—Ç –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –¥–ª—è –º–∞—Å—Å–∏–≤–∞ —Ä–∞–∑–º–µ—Ä–æ–º ‚Äî `num` —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–Ω–∏–º–∞–µ—Ç `size` –±–∞–π—Ç, –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Å–≤–æ–∏ –±–∏—Ç—ã –≤ –Ω—É–ª—è–º–∏. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ —Ä–∞–∑–º–µ—Ä–æ–º `num * size` –±–∞–π—Ç, –ø—Ä–∏—á—ë–º –≤–µ—Å—å –±–ª–æ–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω—É–ª—è–º–∏. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–∞—á–∞–ª–æ –±–ª–æ–∫–∞, –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ null. |
| 3 | `void *realloc(void *ptr, size_t size)` | –§—É–Ω–∫—Ü–∏—è `realloc` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –ø–∞–º—è—Ç–∏. –†–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –ø–∞–º—è—Ç–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `ptr` –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `size` –±–∞–π—Ç–æ–≤. –ë–ª–æ–∫ –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∞—Ç—å—Å—è –∏–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–º–µ—Ä–µ. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –Ω–∞ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ –≤ –ø–∞–º—è—Ç–∏. –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –±–ª–æ–∫–∞ –ø–∞–º—è—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–æ–≤—ã–π –±–ª–æ–∫ –∏–º–µ–µ—Ç –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä, —á–µ–º —Å—Ç–∞—Ä—ã–π. –û—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–º–µ—Å—Ç–∏–ª–∏—Å—å –≤ –Ω–æ–≤—ã–π –±–ª–æ–∫.  –ï—Å–ª–∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `size` –±–æ–ª—å—à–µ —Å—Ç–∞—Ä–æ–≥–æ, —Ç–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–Ω–æ–≤—å –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–∞—á–∞–ª–æ –±–ª–æ–∫–∞, –ø—Ä–∏ —ç—Ç–æ–º –∏—Å—Ö–æ–¥–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å `ptr` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º, –∏ –ª—é–±–æ–π –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º. –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å, –∞ –∏—Å—Ö–æ–¥–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å `ptr` –æ—Å—Ç–∞–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º. |
| 4 | `void free (void* ptr)` | –§—É–Ω–∫—Ü–∏—è `free` –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –ø–∞–º—è—Ç–∏. –ë–ª–æ–∫ –ø–∞–º—è—Ç–∏, —Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ `malloc`, `calloc` –∏–ª–∏ `realloc` –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è. –¢–æ –µ—Å—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å –º–æ–∂–µ—Ç –¥–∞–ª—å—à–µ  –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –∏–ª–∏ –û–°. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `ptr` –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ–Ω –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ—Ç –∂–µ –±–ª–æ–∫ –ø–∞–º—è—Ç–∏, –∞ –Ω–µ –Ω–∞ –Ω—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å. |

### –°–ø–∏—Å–æ–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —è—á–µ–µ–∫

–°–∞–º—ã–º –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö —è—á–µ–µ–∫ —è–≤–ª—è–µ—Ç—Å—è –ª–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫, —Ç.–µ. –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞, –æ–¥–Ω–æ–≥–æ –∑–∞ –¥—Ä—É–≥–∏–º. 
–ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–±–æ–¥–Ω—ã–µ –±–ª–æ–∫–∏.

![Explicit-free-list](misc/images/Explicit-free-list.png)

–≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º—É –ø–æ–≤—ã—à–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–≥–¥–∞ –∫—É—á–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å–µ –±–æ–ª—å—à–µ, –∏ –≤ –±–∞–∑–æ–≤—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–æ–π—Ç–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤.

–¢–∞–∫–æ–π —Å–ø–∏—Å–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –æ–±—ä–µ–∫—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª–∏ `next` –∏ `prev` –±—É–¥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–≤–æ–±–æ–¥–Ω—ã–µ –±–ª–æ–∫–∏.
–ü—Ä–æ—Ü–µ–¥—É—Ä—ã —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω—ã, –ø–æ—Å–∫–æ–ª—å–∫—É `next` –∏ `prev` –±–æ–ª—å—à–µ –Ω–µ –±—É–¥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–µ –±–ª–æ–∫–∏.

–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –±–ª–æ–∫–æ–≤.

### –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è

–§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å–≤–æ–±–æ–¥–Ω—ã–µ –±–ª–æ–∫–∏ –≤ –∫—É—á–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–µ –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö. 
–í —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–µ —É–¥–∞—Å—Ç—Å—è –≤—ã–¥–µ–ª–∏—Ç—å –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –±–ª–æ–∫–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Ö —Å—É–º–º–∞—Ä–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–î–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –±–ª–æ–∫–æ–≤ –≤ –∫—É—á–µ, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
–ó–∞ —Å—á–µ—Ç —ç—Ç–æ–≥–æ –≤—Å–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ –±–ª–æ–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω, —Ä–∞–∑–º–µ—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–µ–Ω —Å—É–º–º–µ –∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤.


## Chapter III

## Part 1. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ s21_memory

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ stdlib.h, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ [–≤—ã—à–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–π):
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –Ω–∞ —è–∑—ã–∫–µ C++ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ C++17
- –ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–ø–∫–µ src
- –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è Google Style
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∏ –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–µ –∏–∑ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —è–∑—ã–∫–∞ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –û—Ñ–æ—Ä–º–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (—Å –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–º —Ñ–∞–π–ª–æ–º s21_memory.h)
- –ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å s21_
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å Makefile –¥–ª—è —Å–±–æ—Ä–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (—Å —Ü–µ–ª—è–º–∏ all, clean, s21_memory.a)
- –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–æ—á–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
- –í–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Å —Å–∏—Å—Ç–µ–º–Ω–æ–π –ø–∞–º—è—Ç—å—é, –∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–æ–¥ –∫—É—á—É –≤ —Å–∞–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ. –î–ª—è —ç—Ç–æ–≥–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤, –ø–∞–º—è—Ç—å –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–µ–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `malloc`.
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ü–∏–∏:
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫—É—á–∏ —Ä–∞–∑–º–µ—Ä–æ–º _N_ –±–∞–π—Ç (–ø—Ä–∏ —ç—Ç–æ–º —Ç–µ–∫—É—â–∞—è –∫—É—á–∞, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è)
  - –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π `s21_malloc`, `s21_calloc`, `s21_realloc`, `s21_free` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–ø—Ä–∏ —ç—Ç–æ–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∞–¥—Ä–µ—Å–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏—è–º–∏)
  - –ó–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∞–¥—Ä–µ—Å—É. –ü—Ä–∏ —ç—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
    - –ê–¥—Ä–µ—Å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
    - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö (–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ `int`, `double` –∏ `char`)
    - –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–º
    - –°–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ (–≤ —Å–ª—É—á–∞–µ –º–∞—Å—Å–∏–≤–∞ –µ–≥–æ –¥–ª–∏–Ω–∞ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã)
    - *–ß—Ç–æ–±—ã –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω, –≤ –±–ª–æ–∫–µ –ø–∞–º—è—Ç–∏, –≤ –∫–æ—Ç–æ—Ä—ã–π –∏–¥—ë—Ç –∑–∞–ø–∏—Å—å, —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –í —è—á–µ–π–∫–∞—Ö, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø –µ—â—ë –Ω–∏ —Ä–∞–∑—É –Ω–µ —É–∫–∞–∑—ã–≤–∞–ª—Å—è, —Å—á–∏—Ç–∞—Ç—å –µ–≥–æ –º–∞—Å—Å–∏–≤–æ–º `char`*
  - –í—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫—É—á–∏ (–∞–¥—Ä–µ—Å, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —Ä–∞–∑–º–µ—Ä –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–≤–æ–±–æ–¥–µ–Ω –∏–ª–∏ –∑–∞–Ω—è—Ç) –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞). –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
```
0x2f7b1a0
    Content: [15, 25, -401]
    Size: 16
    State: 1
0x2f7b1b0
    Content: 4.44
    Size: 8
    State: 0
0x2f7b1b8
    Content: [-1024, 127]
    Size: 8
    State: 1
0x2f7b1c0
    Content: ['a', 'a', 'a', 'b', 'a', 'a', 'a', 'o', 'o', 'a', 'a', 'a', 'b', 'a', 'a', 'a']
    Size: 16
    State: 0
```

## Part 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ. –ü–æ–∏—Å–∫ –ø–æ —Å–≤–æ–±–æ–¥–Ω—ã–º —è—á–µ–π–∫–∞–º

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `s21_malloc_onlyfree`, `s21_calloc_onlyfree`, `s21_realloc_onlyfree`, `s21_free_onlyfree`, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –±–ª–æ–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ —Å–≤–æ–±–æ–¥–Ω—ã–º –±–ª–æ–∫–∞–º. 
–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø—Ü–∏—é –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –±–ª–æ–∫–æ–≤:
1. –î–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤—ã–¥–µ–ª—è–µ—Ç—Å—è 2 –∫—É—á–∏ —Ä–∞–∑–º–µ—Ä–æ–º 1 000 000 –±–∞–π—Ç
2. –í—Å–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π `s21_malloc` –∏ `s21_malloc_onlyfree` –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º 10 –±–∞–π—Ç
3. –í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `s21_malloc` –¥–ª—è –ø–µ—Ä–≤–æ–π –∫—É—á–∏ 100 000 —Ä–∞–∑, —Ç.–µ. –∫—É—á–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –∑–∞–Ω—è—Ç—ã—Ö –±–ª–æ–∫–æ–≤
4. –í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `s21_malloc_onlyfree` –¥–ª—è 2-–æ–π –∫—É—á–∏ 100 000 —Ä–∞–∑, —Ç.–µ. –∫—É—á–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –∑–∞–Ω—è—Ç—ã—Ö –±–ª–æ–∫–æ–≤
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∑–∞–¥–∞—ë—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö) —Å–≤–æ–±–æ–¥–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –≤ –∫—É—á–µ
6. –í –æ–±–µ–∏—Ö –∫—É—á–∞—Ö –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ —è—á–µ–π–∫–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ç–∞–ª–æ —Ä–∞–≤–Ω–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
7. –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–≤—É—é –∫—É—á—É –∑–∞–Ω—è—Ç—ã–º–∏ –±–ª–æ–∫–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `s21_malloc`
8. –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Ç–æ—Ä—É—é –∫—É—á—É –∑–∞–Ω—è—Ç—ã–º–∏ –±–ª–æ–∫–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `s21_malloc_onlyfree`
9. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞

## Part 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ. –î–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è

–ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `s21_defragmentation`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–π –∫—É—á–∏:
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–∞ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

üí° [–ù–∞–∂–º–∏ —Ç—É—Ç](https://forms.yandex.ru/cloud/64181f0dc09c02252de7a4fe/), **—á—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –Ω–∞–º–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç**. –≠—Ç–æ –∞–Ω–æ–Ω–∏–º–Ω–æ –∏ –ø–æ–º–æ–∂–µ—Ç –∫–æ–º–∞–Ω–¥–µ –ü–µ–¥–∞–≥–æ —Å–¥–µ–ª–∞—Ç—å —Ç–≤–æ—ë –æ–±—É—á–µ–Ω–∏–µ –ª—É—á—à–µ.
